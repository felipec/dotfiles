#!/bin/sh

git ls-files | while read f; do
  [[ "$f" == tools/* ]] && continue
  if [[ -e ~/"$f" ]]
  then
    cmp -s {.,~}/"$f" || gvimdiff {.,~}/"$f"
  else
    mkdir -p $(dirname ~/"$f") &&
    cp -av ./"$f" ~/"$f"
  fi
done

# extra

test -f ~/.zprofile || ln -s .profile ~/.zprofile

test -f ~/.git-prompt.sh || wget -O ~/.git-prompt.sh \
	'http://git.kernel.org/?p=git/git.git;a=blob_plain;f=contrib/completion/git-prompt.sh'

chmod go-rw ~/.msmtprc
